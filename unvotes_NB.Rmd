---
title: "R Notebook"
output: html_notebook
---

This is an R notebook for  [United Nations General Assembly Voting Data](https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/LEJUQZ). The dataset indicates the voting patterns of member countries of United Nations from 1946 to 2020. The data Code book can be downloaded here [source](https://dataverse.harvard.edu/api/access/datafile/:persistentId?persistentId=doi:10.7910/DVN/LEJUQZ/DYNZPA)


```{r}
# loading libraries 
library(readr)
library(visdat)
library(ggplot2)
library(dplyr)
```

```{r}
path = "C:/Users/adeso/Desktop/Training/Portfolio/Data/UNVotes.csv"
un_raw = read.csv(path)
head(un_raw)
```
```{r}
# Select columns important to the objective of the project
un_df = subset(un_raw, select = c(member, vote, Country, Countryname, year, session))
head(un_df)
```
```{r}
glimpse(un_df)
```
```{r}
un_data = un_df %>% 
  mutate(vote = as.factor(vote),member = as.logical(member)) 

#vis_dat(un_df, warn_large_data = FALSE)
```

```{r}
head(un_data)
```
```{r}
countries <- c("USA", "UK",
               "CAN", "HTI", "CUB", "DOM")

un_data %>% 
  group_by(year, Countryname) %>%
  filter(Country %in% countries, year == 2000) %>%
  summarise(total = n(), percent_yes = mean(vote == 1))
```



Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.




